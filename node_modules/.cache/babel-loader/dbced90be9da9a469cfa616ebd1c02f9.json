{"ast":null,"code":"var _jsxFileName = \"/Users/chloeshiau/Documents/chubsy/src/travel/src/travelCountryEl/travelCountryEl.jsx\";\nimport React, { Component } from 'react';\nimport LazyLoad from \"vanilla-lazyload\";\nimport lazyloadConfig from \"../config/lazyload\";\nimport './styles/travelCountryEl.less';\n\nclass TravelCountryEl extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeCity: \"\"\n    };\n    this.state.activeCity = Object.keys(this.props.countryData)[0];\n\n    if (!document.lazyLoadInstance) {\n      document.lazyLoadInstance = new LazyLoad(lazyloadConfig);\n    }\n\n    this.createImageEls = this.createImageEls.bind(this);\n    this.createFilters = this.createFilters.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    document.lazyLoadInstance.update();\n  }\n\n  componentDidUpdate() {\n    const photos = document.querySelector(\".travel-modal-photos\");\n    photos.scrollTo(0, 0);\n    document.lazyLoadInstance.update();\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    this.setState({\n      activeCity: e.target.innerHTML\n    });\n  }\n\n  createFilters() {\n    const cityFilterEls = [];\n    Object.keys(this.props.countryData).forEach((city, index) => {\n      if (index === 0) {\n        cityFilterEls.push(React.createElement(\"button\", {\n          key: city,\n          onClick: this.handleClick,\n          className: \"travel-modal-city\",\n          id: \"default-open\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, city));\n      } else {\n        cityFilterEls.push(React.createElement(\"button\", {\n          key: city,\n          onClick: this.handleClick,\n          className: \"travel-modal-city\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, city));\n      }\n    });\n    return cityFilterEls;\n  }\n\n  createImageEls() {\n    const imgEls = [];\n    this.props.countryData[this.state.activeCity].forEach(img => {\n      imgEls.push(React.createElement(\"img\", {\n        key: img,\n        className: \"travel-modal-img\",\n        \"data-src\": process.env.PUBLIC_URL + `/img/${this.props.currentCountry}/${this.state.activeCity}/${img}`,\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }));\n    });\n    return imgEls;\n  }\n\n  render() {\n    const countryModal = this.createImageEls();\n    const cityFilterEls = this.createFilters();\n    return React.createElement(\"div\", {\n      className: \"travel-modal-el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"travel-modal-tabs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, cityFilterEls), React.createElement(\"div\", {\n      className: \"travel-modal-photos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, countryModal));\n  }\n\n}\n\nexport default TravelCountryEl;","map":{"version":3,"sources":["/Users/chloeshiau/Documents/chubsy/src/travel/src/travelCountryEl/travelCountryEl.jsx"],"names":["React","Component","LazyLoad","lazyloadConfig","TravelCountryEl","constructor","props","state","activeCity","Object","keys","countryData","document","lazyLoadInstance","createImageEls","bind","createFilters","handleClick","componentDidMount","update","componentDidUpdate","photos","querySelector","scrollTo","e","preventDefault","setState","target","innerHTML","cityFilterEls","forEach","city","index","push","imgEls","img","process","env","PUBLIC_URL","currentCountry","render","countryModal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport LazyLoad from \"vanilla-lazyload\";\nimport lazyloadConfig from \"../config/lazyload\";\n\nimport './styles/travelCountryEl.less';\n\nclass TravelCountryEl extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeCity: \"\",\n    };\n    this.state.activeCity = Object.keys(this.props.countryData)[0];\n\n    if (!document.lazyLoadInstance) {\n      document.lazyLoadInstance = new LazyLoad(lazyloadConfig);\n    }\n\n    this.createImageEls = this.createImageEls.bind(this);\n    this.createFilters = this.createFilters.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    document.lazyLoadInstance.update();\n  }\n\n  componentDidUpdate() {\n    const photos = document.querySelector(\".travel-modal-photos\");\n    photos.scrollTo(0, 0);\n    document.lazyLoadInstance.update();\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    this.setState ({ activeCity: e.target.innerHTML});\n  }\n\n  createFilters() {\n    const cityFilterEls = [];\n    Object.keys(this.props.countryData).forEach((city, index) => {\n      if (index === 0) {\n        cityFilterEls.push(\n          <button\n            key={city}\n            onClick={this.handleClick}\n            className=\"travel-modal-city\"\n            id=\"default-open\">\n            {city}\n          </button>\n        );\n      } else {\n        cityFilterEls.push(\n          <button\n            key={city}\n            onClick={this.handleClick}\n            className=\"travel-modal-city\">\n            {city}\n          </button>\n        );\n      }\n    });\n    return cityFilterEls;\n  }\n\n  createImageEls() {\n    const imgEls = [];\n    this.props.countryData[this.state.activeCity].forEach((img) => {\n      imgEls.push(\n        <img\n          key={img}\n          className=\"travel-modal-img\"\n          data-src={process.env.PUBLIC_URL + `/img/${this.props.currentCountry}/${this.state.activeCity}/${img}`}\n          alt=\"logo\" />\n      );\n    });\n    return imgEls;\n  }\n\n  render() {\n    const countryModal = this.createImageEls();\n    const cityFilterEls = this.createFilters();\n    return (\n      <div className=\"travel-modal-el\">\n        <div className=\"travel-modal-tabs\">\n          {cityFilterEls}\n        </div>\n        <div className=\"travel-modal-photos\">\n          {countryModal}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TravelCountryEl;\n"]},"metadata":{},"sourceType":"module"}