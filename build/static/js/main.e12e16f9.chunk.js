(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),o=n(9),i=n.n(o),c=n(7),r=n(2),u=n(3),m=n(5),l=n(4),h=n(1),b=n(6),g=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={message:""},n.onSubmit=n.onSubmit.bind(Object(h.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.submitMessage(this.state.message),this.setState({message:""})}},{key:"render",value:function(){var e=this;return a.a.createElement("form",{action:".",onSubmit:this.onSubmit},a.a.createElement("input",{type:"text",placeholder:"Enter message...",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}}),a.a.createElement("input",{type:"submit",value:"Send"}))}}]),t}(s.Component),f=(n(15),"ws://localhost:3000/ws"),p=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={messages:[],ws:null},n.submitMessage=n.submitMessage.bind(Object(h.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.ws=new WebSocket(f),this.ws.onopen=function(){console.log("is connected")},this.ws.onmessage=function(t){var n=JSON.parse(t.data);e.setState((function(e){return{messages:[n].concat(Object(c.a)(e.messages))}}))},this.ws.onclose=function(){e.setState({ws:new WebSocket(f)})}}},{key:"submitMessage",value:function(e){var t={messages:e},n=new WebSocket(f);n.onmessage=function(e){console.log(e.data)},n.onopen=function(){return n.send(JSON.stringify(t))},this.setState((function(e){return{messages:[t].concat(Object(c.a)(e.messages))}}))}},{key:"render",value:function(){var e=this,t=[];return Object.keys(this.state.messages).forEach((function(n,s){t.push(a.a.createElement("p",{key:s},a.a.createElement("em",null,e.state.messages[n].messages)))})),a.a.createElement("div",null,a.a.createElement(g,{ws:this.ws,submitMessage:this.submitMessage}),t)}}]),t}(s.Component);n(16),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.e12e16f9.chunk.js.map